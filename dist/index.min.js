!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):t.Vir=n(t.jQuery)}(this,function(t){"use strict";function n(t){return h.call(t)}function e(t){return"[object Array]"===n(t)}function i(t){return"[object Object]"===n(t)}function r(t){return"[object Function]"===n(t)}function o(t){return"[object Boolean]"===n(t)}function u(){var t=arguments.length<=0?undefined:arguments[0],n=1,r=!1;o(t)&&(r=t,t=arguments.length<=1?undefined:arguments[1],n=2);for(var a;c=n++,a=arguments.length<=c?undefined:arguments[c];){var c;if(i(a)||e(a))for(var f in a){var l=t[f],s=a[f];r&&i(l)&&i(s)?t[f]=u(r,{},l,s):r&&e(l)&&e(s)?t[f]=u(r,[],l,s):t[f]=s}}return t}function a(t,n){for(var e=0,i=t.length;e<i;e++)n(t[e],e,t)}function c(t,n){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,i=t.length;for(e=Math.max(e>=0?e:i-Math.abs(e),0);e<i;e++)if(t[e]===n)return e;return-1}function f(t){var n=this;for(var e in t)!function(e){r(t[e])?n.on(e,t[e]):a(t[e],function(t){var i;f.call(n,(i={},i[e]=t,i))})}(e)}function l(t){if(!(this instanceof l))return new l(t);this._init(t)}t="default"in t?t["default"]:t;var s=Object.create||function(t){var n=function(){};n.prototype=t;var e=new n;return n.prototype=null,e},h=Object.prototype.toString,v=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.mixins||[];return u.apply(null,[!0,{tagName:"div",data:s(null),events:s(null),methods:s(null),watch:s(null),validate:s(null),beforeInit:function(){},init:function(){},inited:function(){}},t].concat(n))},p=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},d=function(t){p(this,t)},y=function(t){function n(){for(var t=this,n=arguments.length,e=Array(n),i=0;i<n;i++)e[i]=arguments[i];var o=e.pop();o=r(o)?[o]:o.split(" "),a(o,function(n){r(n)||(n=t[n]),t.$el.on.apply(t.$el,e.concat(function(e){return n.call(t,e)}))})}for(var e in t)n.apply(this,e.split("->").concat(t[e]))},g=0;return function(n){n.prototype._init=function(n){var e=v(n),i=e.el,r=e.tagName,o=e.data,u=e.events,a=e.methods,c=e.watch,l=e.validate,h=e.beforeInit,p=e.init,b=e.inited;this._uid=++g,this.$el=t(i?i:"<"+r+">"),this.data=o,this.validate=l,this._events=s(null),this._cache=s(null),h.call(this),d.call(this,a),f.call(this,c),y.call(this,u),p.call(this),b.call(this)}}(l),function(t){t.prototype.getEventListeners=function(t){if(void 0===t)return this._events;var n=t.toLowerCase();return this._events[n]||(this._events[n]=[])},t.prototype.$watch=function(t,n){var e=arguments.length>2&&arguments[2]!==undefined&&arguments[2];return n._once=e,this.on(t,n)},t.prototype.on=function(t,n){var e=this;return this.getEventListeners(t).push(n),function(){e.off(t,n)}},t.prototype.once=function(t,n){n._once=!0,this.on(t,n)},t.prototype.off=function(t,n){var e=this.getEventListeners(t);if(void 0==n)return void(e.length=0);var i=c(e,n);~i&&e.splice(i,1)},t.prototype.emit=function(t,n,e){var i=this,r=this.getEventListeners(t);"*"!=t&&(r=r.concat(this.getEventListeners("*"))),a(r,function(r){r.call(e,n),r._once&&i.off(t,r)})}}(l),function(t){t.prototype.set=function(t,n){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(i(t))for(var o in t)this.set(o,t[o],n);else{var u=this.get(t),a={old:u,value:n,type:t},c=this.validate[t];if(r(c)&&void 0!==c.call(this,a))return;if(this.data[t]=n,!e.force&&u===n)return;if(e.silent)return;this.emit(t,a,this)}}}(l),function(t){t.prototype.get=function(t){return this.data[t]}}(l),function(t){t.prototype.$$=function(t,n){var e=this._cache,i=t.replace(/\s/g,"");!1===n&&(e[i]=null);var r=e[i];return r||(r=this.$el.find(t),e[i]=r,r)}}(l),l});
//# sourceMappingURL=index.min.js.map
