!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Vir=n()}(this,function(){"use strict";function t(n){for(var e in n)if("function"==typeof n[e])this.on(e,n[e]);else for(var i=n[e],o=0,r=i.length,f={};o<r;o++)f[e]=i[o],t.call(this,f)}var n=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return $.extend(!0,{tagName:"div",data:{},events:{},methods:{},watch:{},beforeInit:function(){},init:function(){},inited:function(){}},t,n)},e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},o=function(t){i(this,t)},r=function(t){function n(){for(var t=this,n=arguments.length,e=Array(n),i=0;i<n;i++)e[i]=arguments[i];var o=e.pop();o="function"==typeof o?[o]:o.split(" ");for(var r=0,f=o.length;r<f;r++)!function(n,i){var r=o[n];"function"!=typeof r&&(r=t[r]),t.$el.on.apply(t.$el,e.concat(function(n){return r.call(t,n)}))}(r)}for(var e in t)n.apply(this,e.split("->").concat(t[e]))},f=0,s=function(e){e.prototype._init=function(e,i){var s=n(e,i),c=s.el,a=s.tagName,u=s.data,l=s.events,h=s.methods,p=s.watch,v=s.beforeInit,d=s.init,y=s.inited;this._uid=++f,this.$el=c?$(c):$("<"+a+">"),this.data=u,this._events={},this._cache={},v.call(this),o.call(this,h),t.call(this,p),r.call(this,l),d.call(this),y.call(this)}},c=function(t){t.prototype.getEventListeners=function(t){if(void 0===t)return this._events;var n=t.toLowerCase();return this._events[n]||(this._events[n]=[])},t.prototype.on=function(t,n){var e=this;return this.getEventListeners(t).push(n),function(){e.off(t,n)}},t.prototype.once=function(t,n){n._once=!0,this.on(t,n)},t.prototype.off=function(t,n){var e=this.getEventListeners(t);if(void 0==n)return void(e.length=0);for(var i=e.length;i--&&e[i]!=n;);~i&&e.splice(i,1)},t.prototype.emit=function(t,n,e){var i=this.getEventListeners(t);"*"!=t&&(i=i.concat(this.getEventListeners("*")));for(var o=0,r=i.length;o<r;o++){var f=i[o];f.call(e,n),f._once&&(o--,r--,this.off(t,f))}}},a=function(t){t.prototype.set=function(t,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if("object"==(void 0===t?"undefined":e(t))){var o=void 0;for(o in t)this.set(o,t[o],n)}else{var r=this.get(t);if(this.data[t]=n,!i.force&&r===n)return;if(i.silent)return;this.emit(t,{old:r,value:n,type:t},this)}}},u=function(t){t.prototype.get=function(t){return this.data[t]}},l=function(t){t.prototype.$$=function(t,n){var e=this._cache,i=t.replace(/\s/g,"");n===!1&&(e[i]=null);var o=e[i];return o?o:(o=this.$el.find(t),e[i]=o,o)}};return function(t){function n(e){if(!this instanceof n)return new n(e);this._init(t,e)}return s(n),c(n),a(n),u(n),l(n),n}});
//# sourceMappingURL=index.min.js.map
