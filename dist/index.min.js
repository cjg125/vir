!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):t.Vir=n(t.jQuery)}(this,function(t){"use strict";function n(t){return l.call(t)}function e(t){return"[object Object]"===n(t)}function i(t){return"[object Function]"===n(t)}function o(t){for(var n in t)if(i(t[n]))this.on(n,t[n]);else for(var e=t[n],r=0,u=e.length,c={};r<u;r++)c[n]=e[r],o.call(this,c)}function r(t,n){for(var e=0,i=t.length;e<i;e++)n(t[e],e,t)}function u(t,n){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,i=t.length;for(e=Math.max(e>=0?e:i-Math.abs(e),0);e<i;e++)if(t[e]===n)return e;return-1}t="default"in t?t["default"]:t;var c=Object.create||function(t){var n=function(){};return n.prototype=null,new n},f=function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return t.extend(!0,{tagName:"div",data:c(null),events:c(null),methods:c(null),watch:c(null),beforeInit:function(){},init:function(){},inited:function(){}},n,e)},a=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},s=function(t){a(this,t)},l=Object.prototype.toString,h=function(t){function n(){for(var t=this,n=arguments.length,e=Array(n),o=0;o<n;o++)e[o]=arguments[o];var r=e.pop();r=i(r)?[r]:r.split(" ");for(var u=0,c=r.length;u<c;u++)!function(n,o){var u=r[n];i(u)||(u=t[u]),t.$el.on.apply(t.$el,e.concat(function(n){return u.call(t,n)}))}(u)}for(var e in t)n.apply(this,e.split("->").concat(t[e]))},p=0,v=function(n){n.prototype._init=function(n,e){var i=f(n,e),r=i.el,u=i.tagName,a=i.data,l=i.events,v=i.methods,d=i.watch,g=i.beforeInit,y=i.init,_=i.inited;this._uid=++p,this.$el=t(r?r:"<"+u+">"),this.data=a,this._events=c(null),this._cache=c(null),g.call(this),s.call(this,v),o.call(this,d),h.call(this,l),y.call(this),_.call(this)}},d=function(t){t.prototype.getEventListeners=function(t){if(void 0===t)return this._events;var n=t.toLowerCase();return this._events[n]||(this._events[n]=[])},t.prototype.$watch=function(t,n){var e=arguments.length>2&&arguments[2]!==undefined&&arguments[2];return n._once=e,this.on(t,n)},t.prototype.on=function(t,n){var e=this;return this.getEventListeners(t).push(n),function(){e.off(t,n)}},t.prototype.once=function(t,n){n._once=!0,this.on(t,n)},t.prototype.off=function(t,n){var e=this.getEventListeners(t);if(void 0==n)return void(e.length=0);var i=u(e,n);~i&&e.splice(i,1)},t.prototype.emit=function(t,n,e){var i=this,o=this.getEventListeners(t);"*"!=t&&(o=o.concat(this.getEventListeners("*"))),r(o,function(o){o.call(e,n),o._once&&i.off(t,o)})}},g=function(t){t.prototype.set=function(t,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(e(t))for(var o in t)this.set(o,t[o],n);else{var r=this.get(t);if(this.data[t]=n,!i.force&&r===n)return;if(i.silent)return;this.emit(t,{old:r,value:n,type:t},this)}}},y=function(t){t.prototype.get=function(t){return this.data[t]}},_=function(t){t.prototype.$$=function(t,n){var e=this._cache,i=t.replace(/\s/g,"");!1===n&&(e[i]=null);var o=e[i];return o||(o=this.$el.find(t),e[i]=o,o)}};return function(t){function n(e){if(!(this instanceof n))return new n(e);this._init(t,e)}return v(n),d(n),g(n),y(n),_(n),n}});
//# sourceMappingURL=index.min.js.map
