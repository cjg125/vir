!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],n):t.Vir=n(t.jQuery)}(this,function(t){"use strict";function n(t){return l.call(t)}function e(t){return"[object Object]"===n(t)}function i(t){return"[object Function]"===n(t)}function o(t,n){for(var e=0,i=t.length;e<i;e++)n(t[e],e,t)}function r(t,n){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,i=t.length;for(e=Math.max(e>=0?e:i-Math.abs(e),0);e<i;e++)if(t[e]===n)return e;return-1}function u(t){var n=this;for(var e in t)!function(e){i(t[e])?n.on(e,t[e]):o(t[e],function(t){var i;u.call(n,(i={},i[e]=t,i))})}(e)}t="default"in t?t["default"]:t;var a=Object.create||function(t){var n=function(){};n.prototype=t;var e=new n;return n.prototype=null,e},c=function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return t.extend(!0,{tagName:"div",data:a(null),events:a(null),methods:a(null),watch:a(null),validate:a(null),beforeInit:function(){},init:function(){},inited:function(){}},n,e)},f=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},s=function(t){f(this,t)},l=Object.prototype.toString,h=function(t){function n(){for(var t=this,n=arguments.length,e=Array(n),r=0;r<n;r++)e[r]=arguments[r];var u=e.pop();u=i(u)?[u]:u.split(" "),o(u,function(n){i(n)||(n=t[n]),t.$el.on.apply(t.$el,e.concat(function(e){return n.call(t,e)}))})}for(var e in t)n.apply(this,e.split("->").concat(t[e]))},v=0,p=function(n){n.prototype._init=function(n,e){var i=c(n,e),o=i.el,r=i.tagName,f=i.data,l=i.events,p=i.methods,d=i.watch,y=i.validate,g=i.beforeInit,_=i.init,b=i.inited;this._uid=++v,this.$el=t(o?o:"<"+r+">"),this.data=f,this.validate=y,this._events=a(null),this._cache=a(null),g.call(this),s.call(this,p),u.call(this,d),h.call(this,l),_.call(this),b.call(this)}},d=function(t){t.prototype.getEventListeners=function(t){if(void 0===t)return this._events;var n=t.toLowerCase();return this._events[n]||(this._events[n]=[])},t.prototype.$watch=function(t,n){var e=arguments.length>2&&arguments[2]!==undefined&&arguments[2];return n._once=e,this.on(t,n)},t.prototype.on=function(t,n){var e=this;return this.getEventListeners(t).push(n),function(){e.off(t,n)}},t.prototype.once=function(t,n){n._once=!0,this.on(t,n)},t.prototype.off=function(t,n){var e=this.getEventListeners(t);if(void 0==n)return void(e.length=0);var i=r(e,n);~i&&e.splice(i,1)},t.prototype.emit=function(t,n,e){var i=this,r=this.getEventListeners(t);"*"!=t&&(r=r.concat(this.getEventListeners("*"))),o(r,function(o){o.call(e,n),o._once&&i.off(t,o)})}},y=function(t){t.prototype.set=function(t,n){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(e(t))for(var r in t)this.set(r,t[r],n);else{var u=this.get(t),a={old:u,value:n,type:t},c=this.validate[t];if(i(c)&&void 0!==c.call(this,a))return;if(this.data[t]=n,!o.force&&u===n)return;if(o.silent)return;this.emit(t,a,this)}}},g=function(t){t.prototype.get=function(t){return this.data[t]}},_=function(t){t.prototype.$$=function(t,n){var e=this._cache,i=t.replace(/\s/g,"");!1===n&&(e[i]=null);var o=e[i];return o||(o=this.$el.find(t),e[i]=o,o)}};return function(t){function n(e){if(!(this instanceof n))return new n(e);this._init(t,e)}return p(n),d(n),y(n),g(n),_(n),n}});
//# sourceMappingURL=index.min.js.map
